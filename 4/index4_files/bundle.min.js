!function(e){function n(s){if(t[s])return t[s].exports;var o=t[s]={exports:{},id:s,loaded:!1};return e[s].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";var s=t(1),o=t(3),a=t(4),i=t(7),r=t(8),c=t(12),l=t(16);$(function(){$("body").on("keypress",function(e){s.focusIfSlashKeyPressed(e)}),s.enableIncrementalSearch(".enable-incremental-lesson-search"),$("#user_register_form").on("blur",'input[name="user_name"]',function(){o.checkUserName()}),a.appendModule("#lesson-complete-button","on_lesson_page"),a.appendModule(".lesson_complete_button","on_package_page"),i.enable("#lesson_star"),r.copy.enable(".source_copy"),r.diff.enable(".toggle_diff"),r.toggle.enable(".show-hidden-source"),$(".each_source_area").each(function(){1===$(this).data("is-readme")&&$(this).insertBefore(".each_source_area:first")}),$(".source-select").find("option").each(function(){1===$(this).data("is-readme")&&$(this).insertAfter(".source-select > option:first")}),$(".each_source_area.no-diff").each(function(){$(this).insertAfter(".each_source_area:last")}),$(".source-select").find("option").each(function(){1===$(this).data("no-diff")&&$(this).appendTo(".source-select")}),c.settings.autoplay.enable("#autoplay"),c.popup.enable("#popup_video"),l.enable()})},function(e,n,t){"use strict";var s=function(){function e(e){$(e).find(".q").on("keyup focus",function(e){n($(this),e.which)}).on("keydown",function(e){r(e)}),$("#incremental").on("mouseover",".incremental-row",function(e){$("#incremental").children().removeClass("selected"),$(this).addClass("selected"),d=$(this).index()}),$("#incremental").on("click",".incremental-row",function(e){HMHM.search.track($(this).parents("form.enable-incremental-lesson-search").find(".q").val(),"incre-p-with-click",d+1,0,$(this).text(),$(this).data("href"))}),$("body").click(function(e){var n=e.target||e.srcElement;"q"!==$(n).attr("id")&&0===$(n).parents("#incremental").length&&$("#incremental").empty()})}function n(e,n){return s(e),o(e,n)?!0:a(n)?!0:void(""!==e.val()&&i(e))}function s(e){switch(e.attr("id")){case"q_in_topbar":$("#incremental").appendTo("#topbar_search");break;case"q_in_lessons":$("#incremental").appendTo("#lesson_index_search")}}function o(e,n){if(u===!1&&$("#incremental").children().eq(d).is(":visible")&&1==$("#incremental").find(".incremental-row.selected").length&&$("#incremental").find(".incremental-row.selected").data("href")&&n==l.ENTER){var t=$("#incremental").find(".incremental-row.selected");return HMHM.search.track(e.val(),"incre-p-with-key",d+1,0,t.text(),t.data("href")),!0}return!1}function a(e){return u!==!1||e!=l.TAB&&e!=l.ARROW_UP&&e!=l.ARROW_DOWN?!1:($("#incremental").children().removeClass("selected"),e==l.ARROW_UP?(d--,0>d&&(d=$("#incremental").children().length-1)):(d++,d==$("#incremental").children().length&&(d=0)),$("#incremental").children().eq(d).addClass("selected"),!0)}function i(e){var n,t,s=[],o="";for(d=-1,$("#incremental").empty(),t=0;t<HMHM.packages.length;t++)(n=HMHM.packages[t].name.toLowerCase().indexOf(e.val().toLowerCase(),0))>=0&&s.push({"package":HMHM.packages[t],index:n,i:t});for(s.sort(function(e,n){return e.index===n.index?e.i-n.i:e.index-n.index}),t=0;10>t&&t<s.length;t++)o="0"===s[t]["package"].is_premium?"hidden":"",$('<div class="incremental-row"></div>').data("href","/lessons/"+s[t]["package"].ename).append($('<span class="incremental-row-link"></span>').append($('<img class="premium-tag" />').attr("src","/img/premium_tag.png").addClass(o)).append($('<span class="incremental-row-img"></span>').append($('<img class="pic">').attr("src","/package_img/"+s[t]["package"].ename+"/main.png"))).append($("<span></span>").text(s[t]["package"].name))).appendTo("#incremental")}function r(e){if(HMHM.navigator.isFirefox)u=!1;else{if(e.which==l.INPUT_JAPANESE)return void(u=!0);u=!1}$("#incremental").children().length>0&&(e.which==l.TAB||e.which==l.ARROW_UP||e.which==l.ARROW_DOWN)&&e.preventDefault(),$("#incremental").children().length>0&&-1!==d&&e.which==l.ENTER&&e.preventDefault()}function c(e){if(e.which===l.SLASH.PRESS){var n=e.target||e.srcElement;(1!==n.nodeType||"TEXTAREA"!==n.nodeName&&"INPUT"!==n.nodeName)&&(e.preventDefault(),document.getElementById("q_in_topbar")?document.getElementById("q_in_topbar").focus():document.getElementById("q")&&(document.getElementById("q").focus(),document.getElementById("q").select()))}}var l=t(2),u=!1,d=-1;return{focusIfSlashKeyPressed:c,enableIncrementalSearch:e}}();e.exports=s},function(e,n){"use strict";var t=function(){return{TAB:9,ENTER:13,SPACE:32,ARROW_UP:38,ARROW_DOWN:40,SLASH:{PRESS:47},INPUT_JAPANESE:229}}();e.exports=t},function(e,n){"use strict";var t=function(){function e(){var e=$("#user_name").val();if(""===e)return!1;try{n(e)}catch(s){return!1}$("#user_name_check_result").hide(),$("#user_name_check_loader").show(),$("div.inputError").hide(),t(e)}function n(e){if(" "===e.charAt(0)||" "===e.charAt(e.length-1))throw s("半角空白は使えません"),new Error}function t(e){$.ajax({url:"/signup/check_user_name",type:"POST",data:{user_name:e,one_time_token:$('input[name="one_time_token"]:first').val()}}).done(function(e){e.error?s(e.error_message):o(e.message)}).fail(function(){})}function s(e){$("#user_name_check_result").addClass("label-important").removeClass("label-success").text(e).show(),$("#user_name_check_loader").hide()}function o(e){$("#user_name_check_result").addClass("label-success").removeClass("label-important").text(e).show(),$("#user_name_check_loader").hide()}return{checkUserName:e}}();e.exports=t},function(e,n,t){"use strict";var s={on_lesson_page:t(5),on_package_page:t(6)},o=function(){function e(e,t){u[e]=t,$(e).on("click",function(t){t.preventDefault(),$("#user_id")[0]&&""!==$("#user_id").val()&&!$(this).hasClass("disabled")&&n($(this),e)}).on("reset",function(){i()})}function n(e,n){return d?!1:(d=!0,r=e,c=n,1===$("#lesson_id").length?l=$("#lesson_id").val():""!==r.data("lesson_id")&&(l=r.data("lesson_id")),r.prop("disabled",!0),void t())}function t(){$.ajax({url:"/lesson/complete.json",type:"POST",data:{id:l,user_id:$("#user_id").val(),one_time_token:$('input[name="one_time_token"]:first').val()},timeout:15e3}).done(function(e){o(e)}).fail(function(){})}function o(e){var n;return d=!1,r.prop("disabled",!1),e.result?(n=s[u[c]],e.is_canceled?n.cancel(r,l,e):n.complete(r,l,e),void n.finish(e)):(alert(e.error_message),!1)}function a(e){return s[u[c]]}function i(){d=!1}var r,c,l,u={},d=!1;return{appendModule:e,getResponseModule:a}}();e.exports=o},function(e,n){"use strict";var t=function(){function e(e,n,t){$("#lesson-complete-button").addClass("completed"),$("#completeButtonLabel").text("完了済").addClass("op5"),$("#cancelMsg").slideDown(500),$("#lesson_row_"+n).find("a.lesson_title").addClass("done");var s="<strong>"+t.total_completed_count+"</strong> 本目のレッスンが完了！";e.tooltip({placement:"bottom",html:!0,title:s}).tooltip("show")}function n(e,n,t){$("#lesson-complete-button").removeClass("completed"),$("#completeButtonLabel").text("完了").removeClass("op5"),$("#cancelMsg").slideUp(500),$("#lesson_row_"+n).find("a.lesson_title").removeClass("done"),$("#lesson_completed_user_"+$("#user_id").val()).remove(),$("#completed_users_count").text(1*$("#completed_users_count").text()-1),"0"==$("#completed_users_count").text()&&$("#no_completed_users").show(),e.tooltip("destroy")}function t(e){var n;$("#completed_lesson_count").text(e.completed_lesson_count),n=Math.floor(100*e.completed_lesson_count/e.lesson_count),$("#complete_average").text(n),HMHM.lesson.animateProgressBar(e)}return{complete:e,cancel:n,finish:t}}();e.exports=t},function(e,n){"use strict";var t=function(){function e(e,n,t){e.find("span.iconDotinstall").text("完了済").addClass("op5"),$("#lesson_row_"+n).find("a.lesson_title").addClass("done")}function n(e,n,t){e.find("span.iconDotinstall").text("未完了").removeClass("op5"),$("#lesson_row_"+n).find("a.lesson_title").removeClass("done")}function t(e){var n;$("#remaining_lesson_count").text(e.remaining_lesson_count),$("#completed_lesson_count").text(e.completed_lesson_count),n=Math.floor(100*e.completed_lesson_count/e.lesson_count),$("#complete_average").text(n),HMHM.lesson.animateProgressBar(e)}return{complete:e,cancel:n,finish:t}}();e.exports=t},function(e,n){"use strict";var t=function(){function e(e){s=e,$(s).on("click",function(e){e.preventDefault(),n()})}function n(){$.ajax({url:"/lesson/star.json",type:"POST",data:{id:$("#lesson_id").val(),user_id:$("#user_id").val(),one_time_token:$('input[name="one_time_token"]:first').val()},timeout:15e3}).done(function(e){t(e)}).fail(function(){})}function t(e){return e.result?void(e.unstared?$(s).removeClass("stared"):$(s).addClass("stared")):(alert(e.error_message),!1)}var s;return{enable:e}}();e.exports=t},function(e,n,t){"use strict";var s=function(){var e=t(9),n=t(10),s=t(11);return{copy:e,diff:n,toggle:s}}();e.exports=s},function(e,n){"use strict";var t=function(){function e(e){$(e).click(function(){var e,n=$(this).parent().siblings("textarea");return n.is(":visible")?(n.select(),!0):(e=$(this).parent().siblings("pre:visible"),n.css({overflow:"hidden",width:e.width(),height:e.height(),"font-size":e.css("font-size"),"font-family":e.css("font-family"),padding:e.css("padding"),cursor:"default"}),e.hide(),void n.show().select())})}return{enable:e}}();e.exports=t},function(e,n){"use strict";var t=function(){function e(e){$(e).click(function(){var e,n,t="btn-success";$(this).hasClass("disabled")||(e=$(this).parent().parent().siblings("pre").eq(0),n=$(this).parent().parent().siblings("pre").eq(1),$(this).parent().parent().siblings("textarea").hide(),$(this).blur(),$(this).hasClass(t)?(n.hide(),e.show(),$(this).removeClass(t)):(e.hide(),n.show(),$(this).addClass(t)))})}return{enable:e}}();e.exports=t},function(e,n){"use strict";var t=function(){function e(e){$(e).on("click",function(e){var n=this;e.preventDefault(),$(n).hasClass("opened")?($(n).removeClass("opened").parent().siblings("pre").slideUp(300,function(){$(n).text("ソースコードを表示").parent().removeClass("opened")}).siblings("textarea").hide(),$(n).parents(".each_source_area").find(".select-source-button").prop("disabled",!0)):($(n).addClass("opened").text("ソースコードを閉じる").parent().addClass("opened").siblings("pre").slideDown(300),$(n).parents(".each_source_area").find(".select-source-button").prop("disabled",!1))})}return{enable:e}}();e.exports=t},function(e,n,t){"use strict";var s=function(){var e=t(13),n=t(14);return{popup:e,settings:n}}();e.exports=s},function(e,n){"use strict";var t=function(){function e(e){$(e).on("click",function(){return 1===$(this).data("disabled")?!1:void n($(this).data("ename"),$(this).data("lesson-id"))})}function n(e,n){var s,o;t(),s=$('<form method="post" id="popup_video_form"></form>').attr("action","/lessons/"+e+"/"+n+"/popup").attr("target",a),HMHM.movie.ytplayer&&1==HMHM.movie.ytplayer.getPlayerState()&&(HMHM.movie.ytplayer.pauseVideo(),o=HMHM.movie.ytplayer.getCurrentTime(),s.append($('<input type="hidden" name="seek_to_seconds" value="'+o+'">')).append($('<input type="hidden" name="one_time_token">').val($('input[name="one_time_token"]:first').val()))),s.appendTo("body").submit()}function t(){var e=HMHM.navigator.isSafari?"yes":"no";window.open("about:blank",a,"width="+s+",height="+o+",status=no,directories=no,menubar=no,toolbar="+e+",scrollbars=no,resizable=yes")}var s=658,o=416,a="dotinstall_popup";return{enable:e}}();e.exports=t},function(e,n,t){"use strict";var s=function(){var e=t(15);return{autoplay:e}}();e.exports=s},function(e,n){"use strict";var t=function(){function e(){return"undefined"==typeof HMHM.movie.videojs?!1:void("undefined"!=typeof HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.on("ended",function(){HMHM.movie.videojs.on.ended()}))}function n(){return"undefined"==typeof HMHM.movie.videojs?!1:("undefined"!=typeof HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.off("ended"),void HMHM.movie.autoplay.removeAutoplayCookie())}function t(t){$(t).on("click",function(){$("#autoplay").is(":checked")?e():n(),$.post("/user/update_autoplay.json",{user_id:$("#user_id").val(),autoplay:$("#autoplay").is(":checked")?1:0,one_time_token:$(".one_time_token").val()})})}return{enable:t}}();e.exports=t},function(e,n){"use strict";var t=function(){function e(){$(a).hide(),$(a+".active").show(),$(o+" > li").on("click",function(){n($(this))}),$(o).each(function(){$(this).data("tab-save")===!0&&t($(this))})}function n(e){var n="tab_body_"+e.data("tab-id");e.addClass("active").siblings("li").removeClass("active"),$(a).each(function(){$(this).attr("id")===n&&($(this).show(),$(this).siblings().hide())}),e.parent(o).data("tab-save")===!0&&HMHM.cookie.set(e.parent(o).data("tabs-id"),e.data("tab-id"),2592e6,"/lessons/")}function t(e){var t,a;t=s(e),null!==(a=HMHM.cookie.get(t))&&$(o+" > li").each(function(){$(this).data("tab-id")===a&&n($(this))})}function s(e){var n=[],t="";return e.children("li").each(function(){n.push($(this).data("tab-id"))}),t="tabs_state_"+n.join("_"),e.data("tabs-id",t),t}var o=".tabs",a=".tab-body";return{enable:e}}();e.exports=t}]);